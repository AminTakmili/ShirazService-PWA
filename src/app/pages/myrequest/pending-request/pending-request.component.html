<ion-header class="ion-hide-lg-up">
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-button color="white" (click)="goBack()">
				<ion-icon slot="icon-only" name="arrow-back"></ion-icon>
			</ion-button>
		</ion-buttons>
		<ion-title>ویرایش درخواست</ion-title>
	</ion-toolbar>
</ion-header>
<ion-content class="page-content" *ngIf="loading">
	<ion-button class="ion-hide-md-down" nav-pop (click)="goBack()" color="medium" fill="clear"> بازگشت <ion-icon
			slot="start" name="arrow-back"></ion-icon>
	</ion-button>
</ion-content>
<ion-content class="page-content" *ngIf="!loading">
	<ion-button class="ion-hide-md-down" nav-pop (click)="goBack()" color="medium" fill="clear"> بازگشت <ion-icon
			slot="start" name="arrow-back"></ion-icon>
	</ion-button>
	<h1 class="lg-title mb-30 mx-10">ویرایش درخواست</h1>
	<!--===========================================================-->
	<ion-card color="white" class="service-name mx-10">
		<ion-card-content>
			<ion-grid class="ion-no-padding">
				<ion-row class="ion-no-padding">
					<ion-col size-md="9" size="12" class="ion-no-padding">
						<ion-item class="bg-white" lines="none">
							<ion-thumbnail slot="start">
								<img src="{{ request?.servicePicAddress }}">
							</ion-thumbnail>
							<ion-label>
								<h2>{{ request?.serviceTitle }}</h2>
								<ul class="category-lists">
									<li>{{ request?.catTitle }}</li>
									<li>{{ request?.subCatTitle }}</li>
								</ul>
							</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="3" class="ion-no-padding ion-text-center ion-hide-md-down">
						<h1><strong>{{ request?.trackingCode }}</strong></h1>
						<h4>کد رهگیری</h4>
						<br *ngIf="request?.discountCode !== ''">
						<h1 *ngIf="request?.discountCode !== ''"><strong><ion-text color="danger">{{ request?.discountCode }}</ion-text></strong></h1>
						<h4 *ngIf="request?.discountCode !== ''">کد تخفیف</h4>
					</ion-col>
				</ion-row>
			</ion-grid>
			<p class="ion-hide-lg-up"><strong>کد رهگیری : </strong>{{ request?.trackingCode }}</p>
			<p *ngIf="request?.discountCode !== ''" class="ion-hide-lg-up"><strong>کد تخفیف : </strong><ion-text color="danger">{{ request?.discountCode }}</ion-text></p>
			<p *ngIf="request?.desc !== ''"><strong>توضیح : </strong>{{ request?.desc }}</p>
			<p>
				<ion-icon name="person"></ion-icon> {{ request?.firstName }} {{ request?.lastName }}
			</p>
			<p>
				<ion-icon name="pin"></ion-icon> {{ request?.areaTitle }} {{ request?.address }}
			</p>
			<p>
				<ion-icon name="time"></ion-icon> {{ request?.dateFromPersian }} | {{ request?.timeDesc }}
			</p>
			<p *ngIf="request?.discountCode !== ''">
				<ion-text color="danger">شما این درخواست را با کد تخفیف ثبت کرده اید</ion-text>
			</p>
			<p *ngIf="request?.discountCode !== ''">
				<ion-text>{{ request?.discountDesc }}</ion-text>
			</p>
		</ion-card-content>
	</ion-card>
	<!--===========================================================-->
	<ion-card color="white" class="mx-10">
		<ion-card-content>
			<div class="portfolio">
				<div class="item-1">
					<p>{{ request?.workmanCount }}</p>
					<span>ارسال شده</span>
				</div>
				<div class="item-2">
					<p>{{ request?.visitCount }}</p>
					<span>بازدید شده</span>
				</div>
				<div class="item-3">
					<p>{{ 100 * request?.visitCount / request?.workmanCount | number:'0.2' }}</p>
					<span>درصد مشاهده</span>
				</div>
			</div>
		</ion-card-content>
	</ion-card>
	<ion-card color="white" class="mx-10">
		<ion-card-content>
			<ion-text>
				<h2 class="desc-header mb-15">دریافت کننده خدمات</h2>
			</ion-text>
			<div class="servicer">
				<h4>{{ request?.firstName }}</h4>
				<div class="callandsms">
					<a class="call">
						<i class="ion ion-md-call"></i>
						<span class="ion-text-center">تلفن همراه دریافت کننده خدمت<br> {{ request?.mobile }}</span>
					</a>
					<a class="sms">
						<i class="ion ion-md-call"></i>
						<span class="ion-text-center">تلفن ثابت دریافت کننده خدمت<br> {{ request?.phone }}</span>
					</a>

				</div>
			</div>
		</ion-card-content>
	</ion-card>
	<!--===========================================================-->
	<ion-grid class="mt-30 ion-hide-md-down mx-10" no-padding>
		<ion-row align-items-center justify-content-between no-padding>
			<ion-col size="9">
				<ion-button (click)="edit()" expand="block" color="green" class="btn-height-45 ion-hide-md-down ion-no-margin"> ویرایش
					درخواست
				</ion-button>
			</ion-col>
			<ion-col size="3">
				<ion-button (click)="cancel()" expand="block" color="danger"
					class="btn-height-45 ion-hide-md-down ion-no-margin"> لغو می
					کنم
				</ion-button>
			</ion-col>
		</ion-row>
	</ion-grid>
	<!--===========================================================-->
</ion-content>
<ion-footer class="bg-white ion-hide-lg-up">
	<ion-grid no-padding>
		<ion-row no-padding>
			<ion-col size="8">
				<ion-button (click)="edit()" expand="block" color="green" class="btn-height-45"> ویرایش درخواست</ion-button>
			</ion-col>
			<ion-col size="4">
				<ion-button (click)="cancel()" expand="block" color="danger" class="btn-height-45"> لغو می کنم
				</ion-button>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-footer>